{% extends "account/base.html" %}
{% block title %}Change your password{% endblock %}
{% block content %}

    <div class="container-fluid d-flex justify-content-center align-items-center" style="height: 100vh;">
        <div class="form-signin col-4 mx-auto">
            <h1 class="mb-4 text-center">Change Password</h1>
            {% if form.errors %}
                <p class="alert alert-danger mt-5 text-center" role="alert" style="word-wrap: break-word;">
                    Old password or new passwords didn't match.
                </p>
            {% else %}
                <p class="alert alert-info mt-3 text-center" role="alert">
                    Use the form below to change your password.
                </p>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                <div class="form-floating my-3">
                    {{ form.old_password }}
                    <label for="floatingOldPassword">Old Password</label>
                </div>
                <div class="form-floating my-3">
                    {{ form.new_password1 }}
                    <label for="floatingNewPassword1">New Password</label>
                    <p class="help-text">{{ form.new_password1.help_text }}</p> <!-- Renders the help text -->
                </div>
                <div class="form-floating my-3">
                    {{ form.new_password2 }}
                    <label for="floatingNewPassword2">New Password (again)</label>
                </div>
                
                <a href="{% url 'dashboard:index' %}" class="btn btn-primary col-5 py-2">
                    Back to Dashboard
                </a>
                <button class="btn btn-danger col-3 py-2 float-end" type="submit">Change</button>
            </form>

        </div>
    </div>

{% endblock %}